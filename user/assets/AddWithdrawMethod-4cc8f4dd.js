import{at as v,u as A,j as e,bX as F,bY as C,a as u,P as D,A as h,L as G,as as H,aS as q,z as L,az as R,y as j,D as M,N as B,S as p,B as m,g as Q,bd as $,H as k,K as z,bZ as K,b_ as U,$ as E,J as y,b$ as I,q as l,c0 as N}from"./index-a3673b34.js";import"./warn-once-32b7c465.js";import{F as T}from"./FormLabel-546d8bfa.js";import{H as V}from"./HeaderBreadcrumbs-006bc24f.js";import{R as Y}from"./RHFDatePicker-404d2b07.js";import{A as _}from"./Alert-b65ce8b8.js";import{C as J}from"./CardHeader-a92719a0.js";import{C as O}from"./CardContent-73270362.js";import"./Close-30065dfa.js";const X=({setValue:i,label:a,inputType:n,fileExtensions:c,dropdownOptions:d,name:t})=>{switch(n){case"input":return e(y,{name:t,label:a});case"textarea":return e(y,{multiline:!0,minRows:4,name:t,label:a});case"date":return e(Y,{name:t,label:a});case"dropdown":return e(U,{name:t,label:a,children:d.map(({option:s})=>e(E,{value:s,children:s},s))});case"file":return u(m,{children:[e(T,{label:a}),e(K,{setValue:i,name:t})]})}},Z=({gatewayId:i,data:{details:a},gatewayName:n,isUpdated:c,userData:d})=>{const t=H(),s=q(),g=a.reduce((r,{name:o,label:W})=>({...r,[o]:L().required(`${W} is required`)}),{}),b=R(d)?a.map(({name:r})=>r).reduce((r,o)=>({...r,[o]:""}),{}):d,f=j().shape(g),w=M({defaultValues:b,resolver:B(f)}),{setValue:S,handleSubmit:x,formState:{isSubmitting:P}}=w;return u(p,{spacing:3,children:[c&&e(_,{severity:"warning",children:"You need to updated details to withdraw"}),e(m,{children:u(Q,{sx:{maxWidth:600,m:"auto"},children:[e(J,{title:n}),e($,{}),e(O,{children:e(k,{methods:w,onSubmit:x(async r=>{try{await I(i,r),s.invalidateQueries([l.GetWithdrawGatewayDetails,i]),s.invalidateQueries([l.GetUserWithdrawGatewaysList]),t(h.withdrawSystem.methods)}catch(o){console.log("ðŸš€ ~ file: AddWithdrawMethod.jsx:39 ~ onSubmit ~ error",o)}}),children:u(p,{spacing:4,children:[a.map(r=>e(X,{setValue:S,...r},r.name)),e(m,{sx:{textAlign:"right"},children:e(z,{type:"submit",size:"large",variant:"contained",loading:P,children:"Submit"})})]})})})]})})]})},ce=()=>{var s;const i=v(),{id:a}=i,n=l.GetWithdrawGatewayDetails,{data:{data:c={}}={},isLoading:d,error:t}=A([n,a],()=>N(a));return t?((s=t==null?void 0:t.response)==null?void 0:s.status)===404?e(F,{isDashboard:!0}):e(C,{isDashboard:!0}):u(D,{title:"Add Withdraw Method",children:[e(V,{heading:"Add Withdraw Method",links:[{name:"Dashboard",href:h.dashboard},{name:"Withdraw",href:h.withdrawSystem.methods},{name:"Add Withdraw Details"}]}),d?e(G,{}):e(Z,{gatewayId:a,...c})]})};export{ce as default};
