import{s as q,c as V,a,d as w,t as x,w as P,x as K,e,z as k,j as t,C as I,F as N,l as R,I as Q,f as z,bc as h,h as F,S as r,R as c,bl as M,aD as m,B as O,L as E,o as U,ct as Y,cu as $,ck as S,T as n,cv as J,cw as W,P as X,J as C}from"./index-7ce534fb.js";import{r as v}from"./warn-once-223a138d.js";import{H as Z}from"./HeaderBreadcrumbs-7dcdcbac.js";import{u as _}from"./useFormEdit-003d10dc.js";import{C as B}from"./CardHeader-51eb309e.js";import{C as L}from"./CardContent-d5c47145.js";const ee=()=>{const{isEditing:i,startEditing:s,stopEditing:o}=_(),T=q(),l=V().shape({appName:a().required("Site Title is required"),currency:a().required("Currency is required"),currencyPosition:a().required("Currency Position is required"),balanceTransferCharge:a().required("Balance Transfer Charge is required"),balanceTransferChargeType:a().required("Balance Transfer Charge Type is required"),emailAccountLimit:a().required("Account Limit Per Email is required")}),f={appName:"",currency:"",currencyPosition:"",balanceTransferCharge:"",balanceTransferChargeType:"",emailAccountLimit:""},d=w({resolver:U(l),defaultValues:f}),{reset:g,handleSubmit:y,formState:{isSubmitting:p}}=d,u=x.GetSiteSetting,j=v.useMemo(()=>({}),[]),{isLoading:A,data:{data:b=j}={}}=P([u],$);v.useEffect(()=>{!K(b)&&g(b)},[b]);const D=async G=>{try{await Y(G),o(),T.removeQueries([u])}catch(H){console.log("ðŸš€ ~ file: SiteSetting.jsx:70 ~ onSubmit ~ error",H)}};return A?e(k,{}):t(I,{children:[e(B,{title:"Site Settings",action:e(N,{children:!i&&e(R,{onClick:s,children:e(Q,{icon:z.pencil})})}),sx:{pb:2}}),e(h,{}),e(L,{children:e(F,{methods:d,onSubmit:y(D),children:t(r,{spacing:3,children:[e(c,{disabled:!i,name:"appName",type:"text",label:"App Name"}),e(c,{disabled:!i,name:"currency",type:"text",label:"Currency"}),t(M,{disabled:!i,name:"currencyPosition",type:"text",label:"Currency Position",children:[e(m,{value:"prefix",children:"Prefix"}),e(m,{value:"suffix",children:"Suffix"})]}),t(c,{select:!0,disabled:!i,name:"balanceTransferChargeType",type:"text",label:"Balance Transfer Charge Type",children:[e(m,{value:"fixed",children:"Fixed"}),e(m,{value:"percent",children:"Percent"})]}),e(c,{disabled:!i,name:"balanceTransferCharge",type:"text",label:"Balance Transfer Charge"}),e(c,{maskNumber:!0,disabled:!i,name:"emailAccountLimit",type:"text",label:"Account Limited Per Email"}),i&&t(r,{direction:"row",justifyContent:"flex-end",spacing:2,children:[e(O,{onClick:o,size:"large",variant:"outlined",children:"Cancel"}),e(E,{size:"large",type:"submit",variant:"contained",loading:p,children:"Save Changes"})]})]})})})]})},te=ee,ie=()=>{const i=q(),{data:{data:s}={},isFetching:o}=P([x.GetSiteConfiguration],W),l=w({defaultValues:{registration:!1,contactDetails:!1,kycVerification:!1}}),{reset:f,handleSubmit:d,formState:{isSubmitting:g}}=l,y=async p=>{try{await J(p),i.invalidateQueries([x.GetSiteConfiguration],{refetchType:"inactive"})}catch(u){console.error(u)}};return v.useEffect(()=>{s&&f(s)},[s]),t(I,{children:[o&&e(k,{}),e(B,{title:"Site Configuration",subheader:"You can enable and disable the features as per your requirements",sx:{pb:2}}),e(h,{}),e(L,{children:e(F,{methods:l,onSubmit:d(y),children:t(r,{spacing:3,alignItems:"flex-end",children:[t(r,{spacing:2,sx:{width:1},children:[t(r,{direction:"row",alignItems:"flex-start",spacing:1,children:[e(S,{name:"registration",sx:{m:0}}),t(r,{children:[e(n,{variant:"overline",children:"User Registration"}),e(n,{variant:"body2",color:"text.secondary",children:"If you uncheck this option, registration will be stopped ."})]})]}),e(h,{}),t(r,{direction:"row",alignItems:"flex-start",spacing:1,children:[e(S,{name:"contactDetails",sx:{m:0}}),t(r,{children:[e(n,{variant:"overline",children:"Contact Details"}),e(n,{variant:"body2",color:"text.secondary",children:"If you check this option, users must have to submit their contact details with kyc to withdraw payment."})]})]}),e(h,{}),t(r,{direction:"row",alignItems:"flex-start",spacing:1,children:[e(S,{name:"kycVerification",sx:{m:0}}),t(r,{children:[e(n,{variant:"overline",children:"Kyc Verification"}),e(n,{variant:"body2",color:"text.secondary",children:"If you check this option Kyc (Know Your Client) , users must have to submit the required information to withdraw payment. Otherwise the transaction will be prevented by the system."})]})]})]}),e(E,{type:"submit",variant:"contained",loading:g,children:"Save Changes"})]})})})]})},re=ie;function de(){return t(X,{title:"Site Setting",children:[e(Z,{heading:"Site Setting",links:[{name:"System Configuration"},{name:"Site Setting"}]}),t(C,{container:!0,spacing:3,children:[e(C,{item:!0,xs:12,children:e(te,{})}),e(C,{item:!0,children:e(re,{xs:12})})]})]})}export{de as default};
