import{s as j,c as v,a as l,d as B,t as H,w as V,x as L,j as e,P as k,e as i,z as D,C as T,l as w,I as z,B as d,bc as I,h as Q,S as m,R as p,p as R,L as G,o as K,cV as M,cW as $}from"./index-7ce534fb.js";import{r as u}from"./warn-once-223a138d.js";import{E as O}from"./Editor-28a84faa.js";import{F as U}from"./FormLabel-b1fd6c0d.js";import{H as W}from"./HeaderBreadcrumbs-7dcdcbac.js";import{u as A}from"./useFormEdit-003d10dc.js";import{C as J}from"./CardHeader-51eb309e.js";import{C as N}from"./CardContent-d5c47145.js";const X=o=>i(p,{sx:{"& fieldset":{display:"none"}},type:"hidden",...o}),Y=()=>{const o=j(),{isEditing:s,startEditing:y,stopEditing:a}=A(),C={title:"",description:""},g=v().shape({title:l().required("Title is required"),description:l().required("Description is required")}),r=B({defaultValues:C,resolver:K(g)}),{getValues:h,reset:f,setValue:P,handleSubmit:b,formState:{isSubmitting:x}}=r,c=H.GetCommissionPolicyPage,S=u.useMemo(()=>({}),[]),{isLoading:F,data:{data:t=S}={}}=V([c],$);u.useEffect(()=>{!L(t)&&f(t)},[t]);const E=n=>{P("description",n)};return e(k,{title:"Commission Policy",children:[i(W,{heading:"Commission Policy",links:[{name:"Manage Section"},{name:"Commission Policy"}]}),F?i(D,{}):e(T,{children:[i(J,{title:"Commission Policy",action:s?void 0:i(w,{onClick:y,children:i(z,{icon:"mdi:lead-pencil"})})}),i(d,{}),i(I,{}),i(N,{children:i(Q,{methods:r,onSubmit:b(async n=>{try{await M(n),o.removeQueries([c]),a()}catch(q){console.log("ðŸš€ ~ file: CommissionPolicy.jsx:80 ~ onSubmit ~ error",q)}}),children:e(m,{spacing:3,children:[i(p,{disabled:!s,name:"title",type:"text",label:"Title"}),e(R,{children:[i(U,{label:"Description"}),i(O,{disabled:!s,onChangeValue:E,initialValue:h().description}),i(X,{name:"description",type:"hidden"})]}),s&&e(m,{direction:"row",justifyContent:"flex-end",spacing:2,children:[i(d,{size:"large",onClick:a,children:"Cancel"}),i(G,{size:"large",type:"submit",variant:"contained",loading:x,children:"Update"})]})]})})})]})]})},ri=Y;export{ri as default};
