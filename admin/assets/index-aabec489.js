import{Z as me,$ as ve,E as D,X as $e,ab as Pe,_ as h,a0 as Se,a1 as ne,a2 as E,j as M,a3 as ge,aR as he,ak as He,e as b,ae as De,ah as ue,aj as Ze,bn as Je,q as Qe,A as fe,a5 as pe,l as et,I as tt,f as ot,t as lt,bt as rt,C as nt,S as st,P as at}from"./index-7ce534fb.js";import{r as c}from"./warn-once-223a138d.js";import{H as it}from"./HeaderBreadcrumbs-7dcdcbac.js";import{K as ct,b as dt,u as P}from"./EmptyContent-22072c99.js";import{D as ut}from"./DataTable-0ade8726.js";import{L as ke}from"./Label-c270b6e0.js";import{T as ft}from"./TableUser-6b416168.js";import{f as Ee}from"./formatTime-af0276ab.js";import{c as pt}from"./index-2e108c35.js";import"./TableCell-b673782b.js";import"./Close-40502a6a.js";import"./Skeleton-7d8866f7.js";import"./index-1771e82c.js";import"./CardHeader-51eb309e.js";let U;function Xe(){if(U)return U;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),U="reverse",e.scrollLeft>0?U="default":(e.scrollLeft=1,e.scrollLeft===0&&(U="negative")),document.body.removeChild(e),U}function Ie(e,t){const l=e.scrollLeft;if(t!=="rtl")return l;switch(Xe()){case"negative":return e.scrollWidth-e.clientWidth+l;case"reverse":return e.scrollWidth-e.clientWidth-l;default:return l}}function bt(e){return ve("MuiTab",e)}const ht=me("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),H=ht,mt=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],vt=e=>{const{classes:t,textColor:l,fullWidth:a,wrapped:n,icon:u,label:p,selected:m,disabled:f}=e,v={root:["root",u&&p&&"labelIcon",`textColor${Pe(l)}`,a&&"fullWidth",n&&"wrapped",m&&"selected",f&&"disabled"],iconWrapper:["iconWrapper"]};return ge(v,bt,t)},St=D($e,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:l}=e;return[t.root,l.label&&l.icon&&t.labelIcon,t[`textColor${Pe(l.textColor)}`],l.fullWidth&&t.fullWidth,l.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>h({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${H.iconWrapper}`]:h({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${H.selected}`]:{opacity:1},[`&.${H.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${H.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${H.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${H.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${H.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),gt=c.forwardRef(function(t,l){const a=Se({props:t,name:"MuiTab"}),{className:n,disabled:u=!1,disableFocusRipple:p=!1,fullWidth:m,icon:f,iconPosition:v="top",indicator:T,label:C,onChange:s,onClick:g,onFocus:w,selected:I,selectionFollowsFocus:B,textColor:Q="inherit",value:L,wrapped:se=!1}=a,Y=ne(a,mt),N=h({},a,{disabled:u,disableFocusRipple:p,selected:I,icon:!!f,iconPosition:v,label:!!C,fullWidth:m,textColor:Q,wrapped:se}),_=vt(N),z=f&&C&&c.isValidElement(f)?c.cloneElement(f,{className:E(_.iconWrapper,f.props.className)}):f,j=A=>{!I&&s&&s(A,L),g&&g(A)},q=A=>{B&&!I&&s&&s(A,L),w&&w(A)};return M(St,h({focusRipple:!p,className:E(_.root,n),ref:l,role:"tab","aria-selected":I,disabled:u,onClick:j,onFocus:q,ownerState:N,tabIndex:I?0:-1},Y,{children:[v==="top"||v==="start"?M(c.Fragment,{children:[z,C]}):M(c.Fragment,{children:[C,z]}),T]}))}),xt=gt;function Ct(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function wt(e,t,l,a={},n=()=>{}){const{ease:u=Ct,duration:p=300}=a;let m=null;const f=t[e];let v=!1;const T=()=>{v=!0},C=s=>{if(v){n(new Error("Animation cancelled"));return}m===null&&(m=s);const g=Math.min(1,(s-m)/p);if(t[e]=u(g)*(l-f)+f,g>=1){requestAnimationFrame(()=>{n(null)});return}requestAnimationFrame(C)};return f===l?(n(new Error("Element already at target position")),T):(requestAnimationFrame(C),T)}const yt=["onChange"],Tt={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Bt(e){const{onChange:t}=e,l=ne(e,yt),a=c.useRef(),n=c.useRef(null),u=()=>{a.current=n.current.offsetHeight-n.current.clientHeight};return c.useEffect(()=>{const p=he(()=>{const f=a.current;u(),f!==a.current&&t(a.current)}),m=He(n.current);return m.addEventListener("resize",p),()=>{p.clear(),m.removeEventListener("resize",p)}},[t]),c.useEffect(()=>{u(),t(a.current)},[t]),b("div",h({style:Tt,ref:n},l))}function Wt(e){return ve("MuiTabScrollButton",e)}const Mt=me("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Rt=Mt;var Le,Ne;const kt=["className","direction","orientation","disabled"],Et=e=>{const{classes:t,orientation:l,disabled:a}=e;return ge({root:["root",l,a&&"disabled"]},Wt,t)},It=D($e,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:l}=e;return[t.root,l.orientation&&t[l.orientation]]}})(({ownerState:e})=>h({width:40,flexShrink:0,opacity:.8,[`&.${Rt.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),Lt=c.forwardRef(function(t,l){const a=Se({props:t,name:"MuiTabScrollButton"}),{className:n,direction:u}=a,p=ne(a,kt),f=De().direction==="rtl",v=h({isRtl:f},a),T=Et(v);return b(It,h({component:"div",className:E(T.root,n),ref:l,role:null,ownerState:v,tabIndex:null},p,{children:u==="left"?Le||(Le=b(ct,{fontSize:"small"})):Ne||(Ne=b(dt,{fontSize:"small"}))}))}),Nt=Lt;function zt(e){return ve("MuiTabs",e)}const At=me("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),be=At,Ft=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],ze=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,Ae=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,re=(e,t,l)=>{let a=!1,n=l(e,t);for(;n;){if(n===e.firstChild){if(a)return;a=!0}const u=n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||u)n=l(e,n);else{n.focus();return}}},$t=e=>{const{vertical:t,fixed:l,hideScrollbar:a,scrollableX:n,scrollableY:u,centered:p,scrollButtonsHideMobile:m,classes:f}=e;return ge({root:["root",t&&"vertical"],scroller:["scroller",l&&"fixed",a&&"hideScrollbar",n&&"scrollableX",u&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",p&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",m&&"scrollButtonsHideMobile"],scrollableX:[n&&"scrollableX"],hideScrollbar:[a&&"hideScrollbar"]},zt,f)},Pt=D("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:l}=e;return[{[`& .${be.scrollButtons}`]:t.scrollButtons},{[`& .${be.scrollButtons}`]:l.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,l.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>h({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${be.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),Ht=D("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:l}=e;return[t.scroller,l.fixed&&t.fixed,l.hideScrollbar&&t.hideScrollbar,l.scrollableX&&t.scrollableX,l.scrollableY&&t.scrollableY]}})(({ownerState:e})=>h({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Dt=D("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:l}=e;return[t.flexContainer,l.vertical&&t.flexContainerVertical,l.centered&&t.centered]}})(({ownerState:e})=>h({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),Xt=D("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>h({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),Kt=D(Bt,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Fe={},Ut=c.forwardRef(function(t,l){const a=Se({props:t,name:"MuiTabs"}),n=De(),u=n.direction==="rtl",{"aria-label":p,"aria-labelledby":m,action:f,centered:v=!1,children:T,className:C,component:s="div",allowScrollButtonsMobile:g=!1,indicatorColor:w="primary",onChange:I,orientation:B="horizontal",ScrollButtonComponent:Q=Nt,scrollButtons:L="auto",selectionFollowsFocus:se,TabIndicatorProps:Y={},TabScrollButtonProps:N={},textColor:_="primary",value:z,variant:j="standard",visibleScrollbar:q=!1}=a,A=ne(a,Ft),R=j==="scrollable",x=B==="vertical",V=x?"scrollTop":"scrollLeft",ee=x?"top":"left",te=x?"bottom":"right",ae=x?"clientHeight":"clientWidth",O=x?"height":"width",G=h({},a,{component:s,allowScrollButtonsMobile:g,indicatorColor:w,orientation:B,vertical:x,scrollButtons:L,textColor:_,variant:j,visibleScrollbar:q,fixed:!R,hideScrollbar:R&&!q,scrollableX:R&&!x,scrollableY:R&&x,centered:v&&!R,scrollButtonsHideMobile:!g}),k=$t(G),[xe,Ke]=c.useState(!1),[F,Ce]=c.useState(Fe),[X,Ue]=c.useState({start:!1,end:!1}),[we,Ye]=c.useState({overflow:"hidden",scrollbarWidth:0}),ye=new Map,W=c.useRef(null),Z=c.useRef(null),Te=()=>{const o=W.current;let r;if(o){const d=o.getBoundingClientRect();r={clientWidth:o.clientWidth,scrollLeft:o.scrollLeft,scrollTop:o.scrollTop,scrollLeftNormalized:Ie(o,n.direction),scrollWidth:o.scrollWidth,top:d.top,bottom:d.bottom,left:d.left,right:d.right}}let i;if(o&&z!==!1){const d=Z.current.children;if(d.length>0){const S=d[ye.get(z)];i=S?S.getBoundingClientRect():null}}return{tabsMeta:r,tabMeta:i}},J=ue(()=>{const{tabsMeta:o,tabMeta:r}=Te();let i=0,d;if(x)d="top",r&&o&&(i=r.top-o.top+o.scrollTop);else if(d=u?"right":"left",r&&o){const y=u?o.scrollLeftNormalized+o.clientWidth-o.scrollWidth:o.scrollLeft;i=(u?-1:1)*(r[d]-o[d]+y)}const S={[d]:i,[O]:r?r[O]:0};if(isNaN(F[d])||isNaN(F[O]))Ce(S);else{const y=Math.abs(F[d]-S[d]),K=Math.abs(F[O]-S[O]);(y>=1||K>=1)&&Ce(S)}}),ie=(o,{animation:r=!0}={})=>{r?wt(V,W.current,o,{duration:n.transitions.duration.standard}):W.current[V]=o},Be=o=>{let r=W.current[V];x?r+=o:(r+=o*(u?-1:1),r*=u&&Xe()==="reverse"?-1:1),ie(r)},We=()=>{const o=W.current[ae];let r=0;const i=Array.from(Z.current.children);for(let d=0;d<i.length;d+=1){const S=i[d];if(r+S[ae]>o){d===0&&(r=o);break}r+=S[ae]}return r},_e=()=>{Be(-1*We())},je=()=>{Be(We())},qe=c.useCallback(o=>{Ye({overflow:null,scrollbarWidth:o})},[]),Ve=()=>{const o={};o.scrollbarSizeListener=R?b(Kt,{onChange:qe,className:E(k.scrollableX,k.hideScrollbar)}):null;const r=X.start||X.end,i=R&&(L==="auto"&&r||L===!0);return o.scrollButtonStart=i?b(Q,h({orientation:B,direction:u?"right":"left",onClick:_e,disabled:!X.start},N,{className:E(k.scrollButtons,N.className)})):null,o.scrollButtonEnd=i?b(Q,h({orientation:B,direction:u?"left":"right",onClick:je,disabled:!X.end},N,{className:E(k.scrollButtons,N.className)})):null,o},Me=ue(o=>{const{tabsMeta:r,tabMeta:i}=Te();if(!(!i||!r)){if(i[ee]<r[ee]){const d=r[V]+(i[ee]-r[ee]);ie(d,{animation:o})}else if(i[te]>r[te]){const d=r[V]+(i[te]-r[te]);ie(d,{animation:o})}}}),$=ue(()=>{if(R&&L!==!1){const{scrollTop:o,scrollHeight:r,clientHeight:i,scrollWidth:d,clientWidth:S}=W.current;let y,K;if(x)y=o>1,K=o<r-i-1;else{const le=Ie(W.current,n.direction);y=u?le<d-S-1:le>1,K=u?le>1:le<d-S-1}(y!==X.start||K!==X.end)&&Ue({start:y,end:K})}});c.useEffect(()=>{const o=he(()=>{W.current&&(J(),$())}),r=He(W.current);r.addEventListener("resize",o);let i;return typeof ResizeObserver<"u"&&(i=new ResizeObserver(o),Array.from(Z.current.children).forEach(d=>{i.observe(d)})),()=>{o.clear(),r.removeEventListener("resize",o),i&&i.disconnect()}},[J,$]);const ce=c.useMemo(()=>he(()=>{$()}),[$]);c.useEffect(()=>()=>{ce.clear()},[ce]),c.useEffect(()=>{Ke(!0)},[]),c.useEffect(()=>{J(),$()}),c.useEffect(()=>{Me(Fe!==F)},[Me,F]),c.useImperativeHandle(f,()=>({updateIndicator:J,updateScrollButtons:$}),[J,$]);const Re=b(Xt,h({},Y,{className:E(k.indicator,Y.className),ownerState:G,style:h({},F,Y.style)}));let oe=0;const Oe=c.Children.map(T,o=>{if(!c.isValidElement(o))return null;const r=o.props.value===void 0?oe:o.props.value;ye.set(r,oe);const i=r===z;return oe+=1,c.cloneElement(o,h({fullWidth:j==="fullWidth",indicator:i&&!xe&&Re,selected:i,selectionFollowsFocus:se,onChange:I,textColor:_,value:r},oe===1&&z===!1&&!o.props.tabIndex?{tabIndex:0}:{}))}),Ge=o=>{const r=Z.current,i=Ze(r).activeElement;if(i.getAttribute("role")!=="tab")return;let S=B==="horizontal"?"ArrowLeft":"ArrowUp",y=B==="horizontal"?"ArrowRight":"ArrowDown";switch(B==="horizontal"&&u&&(S="ArrowRight",y="ArrowLeft"),o.key){case S:o.preventDefault(),re(r,i,Ae);break;case y:o.preventDefault(),re(r,i,ze);break;case"Home":o.preventDefault(),re(r,null,ze);break;case"End":o.preventDefault(),re(r,null,Ae);break}},de=Ve();return M(Pt,h({className:E(k.root,C),ownerState:G,ref:l,as:s},A,{children:[de.scrollButtonStart,de.scrollbarSizeListener,M(Ht,{className:k.scroller,ownerState:G,style:{overflow:we.overflow,[x?`margin${u?"Left":"Right"}`:"marginBottom"]:q?void 0:-we.scrollbarWidth},ref:W,onScroll:ce,children:[b(Dt,{"aria-label":p,"aria-labelledby":m,"aria-orientation":B==="vertical"?"vertical":null,className:k.flexContainer,ownerState:G,onKeyDown:Ge,ref:Z,role:"tablist",children:Oe}),xe&&Re]}),de.scrollButtonEnd]}))}),Yt=Ut;function _t(){const t=Je().status||"pending",l=[{field:"createdAt",sort:"desc"}],a=[{field:"ticketId",headerName:P("Ticket Id"),minWidth:100,maxWidth:150,flex:1,renderCell({value:s}){return M(Qe,{to:fe.support.ticket(s),component:pe,children:["#",s]})}},{field:"userId",headerName:P("user"),minWidth:200,flex:1,renderCell:({row:{avatar:s,userName:g,userId:w}})=>b(ft,{avatar:s,title:g,subtitle:w,userId:w})},{field:"subject",headerName:P("subject"),minWidth:200,flex:1.5},{field:"createdAt",headerName:P("created At"),minWidth:180,flex:1,renderCell:({value:s})=>Ee(s)},{field:"updatedAt",headerName:P("last Replied At"),minWidth:180,flex:1,renderCell:({value:s})=>Ee(s)},{field:"status",headerName:P("status"),minWidth:100,flex:1,renderCell({value:s}){return b(ke,{color:(w=>{if(w==="pending")return"warning";if(w==="closed")return"error";if(w==="active")return"success"})(s),children:pt(s)})}},{field:"view",headerName:P("view"),maxWidth:100,sortable:!1,renderCell({row:{id:s}}){return b(et,{to:fe.support.ticket(s),component:pe,children:b(tt,{icon:ot.rightDirectionArrow})})}}],[n,u]=c.useState(t||"all"),[p,m]=c.useState({all:0,pending:0,active:0,closed:0}),f=[{value:"all",label:"All",color:"info",count:p.all},{value:"pending",label:"Pending",color:"warning",count:p.pending},{value:"active",label:"Active",color:"success",count:p.active},{value:"closed",label:"Closed",color:"error",count:p.closed}],v=(s,g)=>u(g);c.useEffect(()=>{u(t)},[t]);const T=lt.FetchSupportTicketsList,C=c.useCallback(s=>rt(n,s),[n]);return M(nt,{children:[b(Yt,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:n,onChange:v,sx:{px:2,bgcolor:"background.neutral"},children:f.map(s=>b(xt,{component:pe,to:fe.support.root+"/"+s.value,disableRipple:!0,value:s.value,label:M(st,{spacing:1,direction:"row",alignItems:"center",children:[b("div",{children:s.label})," ",M(ke,{color:s.color,children:[" ",s.count," "]})]})},s.value))}),b(ut,{title:"Support Tickets",queryKey:T,sortModel:l,columns:a,queryDependency:n,queryFunc:C,onGetData:({analytics:s})=>m(s)})]})}const jt=()=>M(at,{title:"Support",children:[b(it,{heading:"Support",links:[{name:"Support"}]}),b(_t,{})]}),ao=jt;export{ao as default};
